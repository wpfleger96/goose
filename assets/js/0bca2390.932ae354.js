"use strict";(self.webpackChunkgoose=self.webpackChunkgoose||[]).push([[6271],{59421:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"guides/recipe-reference","title":"Recipe Reference Guide","description":"Recipes are reusable Goose configurations that package up a specific setup so it can be easily shared and launched by others.","source":"@site/docs/guides/recipe-reference.md","sourceDirName":"guides","slug":"/guides/recipe-reference","permalink":"/goose/docs/guides/recipe-reference","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":18,"frontMatter":{"sidebar_position":18,"title":"Recipe Reference Guide","sidebar_label":"Recipe Reference Guide"},"sidebar":"tutorialSidebar","previous":{"title":"Creating Plans","permalink":"/goose/docs/guides/creating-plans"},"next":{"title":"Extension Allowlist","permalink":"/goose/docs/guides/allowlist"}}');var s=n(74848),t=n(28453);const d={sidebar_position:18,title:"Recipe Reference Guide",sidebar_label:"Recipe Reference Guide"},l=void 0,c={},a=[{value:"Recipe File Format",id:"recipe-file-format",level:2},{value:"Recipe Structure",id:"recipe-structure",level:2},{value:"Required Fields",id:"required-fields",level:3},{value:"Optional Fields",id:"optional-fields",level:3},{value:"Parameters",id:"parameters",level:2},{value:"Required Parameter Fields",id:"required-parameter-fields",level:3},{value:"Optional Parameter Fields",id:"optional-parameter-fields",level:3},{value:"Parameter Requirements",id:"parameter-requirements",level:3},{value:"Extensions",id:"extensions",level:2},{value:"Extension Fields",id:"extension-fields",level:3},{value:"Example Extension Configuration",id:"example-extension-configuration",level:3},{value:"Template Support",id:"template-support",level:2},{value:"Built-in Parameters",id:"built-in-parameters",level:2},{value:"Complete Recipe Example",id:"complete-recipe-example",level:2},{value:"Template Inheritance",id:"template-inheritance",level:2},{value:"Recipe Location",id:"recipe-location",level:2},{value:"Validation Rules",id:"validation-rules",level:2},{value:"Error Handling",id:"error-handling",level:2}];function o(e){const i={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.p,{children:"Recipes are reusable Goose configurations that package up a specific setup so it can be easily shared and launched by others."}),"\n",(0,s.jsx)(i.h2,{id:"recipe-file-format",children:"Recipe File Format"}),"\n",(0,s.jsx)(i.p,{children:"Recipes can be defined in either:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:".yaml"})," files (recommended)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:".json"})," files"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Files should be named either:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"recipe.yaml"}),"/",(0,s.jsx)(i.code,{children:"recipe.json"})]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"<recipe_name>.yaml"}),"/",(0,s.jsx)(i.code,{children:"<recipe_name>.json"})]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"recipe-structure",children:"Recipe Structure"}),"\n",(0,s.jsx)(i.h3,{id:"required-fields",children:"Required Fields"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Field"}),(0,s.jsx)(i.th,{children:"Type"}),(0,s.jsx)(i.th,{children:"Description"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"version"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:'The recipe format version (e.g., "1.0.0")'})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"title"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"A short title describing the recipe"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"description"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"A detailed description of what the recipe does"})]})]})]}),"\n",(0,s.jsx)(i.h3,{id:"optional-fields",children:"Optional Fields"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Field"}),(0,s.jsx)(i.th,{children:"Type"}),(0,s.jsx)(i.th,{children:"Description"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"instructions"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Template instructions that can include parameter substitutions"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"prompt"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"A template prompt that can include parameter substitutions"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"parameters"})}),(0,s.jsx)(i.td,{children:"Array"}),(0,s.jsx)(i.td,{children:"List of parameter definitions"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"extensions"})}),(0,s.jsx)(i.td,{children:"Array"}),(0,s.jsx)(i.td,{children:"List of extension configurations"})]})]})]}),"\n",(0,s.jsx)(i.h2,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(i.p,{children:["Each parameter in the ",(0,s.jsx)(i.code,{children:"parameters"})," array has the following structure:"]}),"\n",(0,s.jsx)(i.h3,{id:"required-parameter-fields",children:"Required Parameter Fields"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Field"}),(0,s.jsx)(i.th,{children:"Type"}),(0,s.jsx)(i.th,{children:"Description"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"key"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Unique identifier for the parameter"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"input_type"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:'Type of input (e.g., "string")'})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"requirement"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:'One of: "required", "optional", or "user_prompt"'})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"description"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Human-readable description of the parameter"})]})]})]}),"\n",(0,s.jsx)(i.h3,{id:"optional-parameter-fields",children:"Optional Parameter Fields"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Field"}),(0,s.jsx)(i.th,{children:"Type"}),(0,s.jsx)(i.th,{children:"Description"})]})}),(0,s.jsx)(i.tbody,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"default"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Default value for optional parameters"})]})})]}),"\n",(0,s.jsx)(i.h3,{id:"parameter-requirements",children:"Parameter Requirements"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"required"}),": Parameter must be provided when using the recipe"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"optional"}),": Can be omitted if a default value is specified"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"user_prompt"}),": Will interactively prompt the user for input if not provided"]}),"\n"]}),"\n",(0,s.jsx)(i.admonition,{type:"important",children:(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Optional parameters MUST have a default value specified"}),"\n",(0,s.jsx)(i.li,{children:"Required parameters cannot have default values"}),"\n",(0,s.jsx)(i.li,{children:"Parameter keys must match any template variables used in instructions or prompt"}),"\n"]})}),"\n",(0,s.jsx)(i.h2,{id:"extensions",children:"Extensions"}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.code,{children:"extensions"})," field allows you to specify which Model Context Protocol (MCP) servers and other extensions the recipe needs to function. Each extension in the array has the following structure:"]}),"\n",(0,s.jsx)(i.h3,{id:"extension-fields",children:"Extension Fields"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Field"}),(0,s.jsx)(i.th,{children:"Type"}),(0,s.jsx)(i.th,{children:"Description"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"type"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:'Type of extension (e.g., "stdio")'})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"name"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Unique name for the extension"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"cmd"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Command to run the extension"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"args"})}),(0,s.jsx)(i.td,{children:"Array"}),(0,s.jsx)(i.td,{children:"List of arguments for the command"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"timeout"})}),(0,s.jsx)(i.td,{children:"Number"}),(0,s.jsx)(i.td,{children:"Timeout in seconds"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"bundled"})}),(0,s.jsx)(i.td,{children:"Boolean"}),(0,s.jsx)(i.td,{children:"(Optional) Whether the extension is bundled with Goose"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"description"})}),(0,s.jsx)(i.td,{children:"String"}),(0,s.jsx)(i.td,{children:"Description of what the extension does"})]})]})]}),"\n",(0,s.jsx)(i.h3,{id:"example-extension-configuration",children:"Example Extension Configuration"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:'extensions:\n  - type: stdio\n    name: codesearch\n    cmd: uvx\n    args:\n      - mcp_codesearch@latest\n    timeout: 300\n    bundled: true\n    description: "Query https://codesearch.sqprod.co/ directly from goose"\n  \n  - type: stdio\n    name: presidio\n    timeout: 300\n    cmd: uvx\n    args:\n      - \'mcp_presidio@latest\'\n    description: "For searching logs using Presidio"\n'})}),"\n",(0,s.jsx)(i.h2,{id:"template-support",children:"Template Support"}),"\n",(0,s.jsxs)(i.p,{children:["Recipes support Jinja-style template syntax in both ",(0,s.jsx)(i.code,{children:"instructions"})," and ",(0,s.jsx)(i.code,{children:"prompt"})," fields:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:'instructions: "Follow these steps with {{ parameter_name }}"\nprompt: "Your task is to {{ action }}"\n'})}),"\n",(0,s.jsx)(i.p,{children:"Advanced template features include:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Template inheritance using ",(0,s.jsx)(i.code,{children:'{% extends "parent.yaml" %}'})]}),"\n",(0,s.jsxs)(i.li,{children:["Blocks that can be defined and overridden:","\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:"{% block content %}\nDefault content\n{% endblock %}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"built-in-parameters",children:"Built-in Parameters"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Parameter"}),(0,s.jsx)(i.th,{children:"Description"})]})}),(0,s.jsx)(i.tbody,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"recipe_dir"})}),(0,s.jsx)(i.td,{children:"Automatically set to the directory containing the recipe file"})]})})]}),"\n",(0,s.jsx)(i.h2,{id:"complete-recipe-example",children:"Complete Recipe Example"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:'version: "1.0.0"\ntitle: "Example Recipe"\ndescription: "A sample recipe demonstrating the format"\ninstructions: "Follow these steps with {{ required_param }} and {{ optional_param }}"\nprompt: "Your task is to use {{ required_param }}"\nparameters:\n  - key: required_param\n    input_type: string\n    requirement: required\n    description: "A required parameter example"\n  \n  - key: optional_param\n    input_type: string\n    requirement: optional\n    default: "default value"\n    description: "An optional parameter example"\n  \n  - key: interactive_param\n    input_type: string\n    requirement: user_prompt\n    description: "Will prompt user if not provided"\n\nextensions:\n  - type: stdio\n    name: codesearch\n    cmd: uvx\n    args:\n      - mcp_codesearch@latest\n    timeout: 300\n    bundled: true\n    description: "Query codesearch directly from goose"\n'})}),"\n",(0,s.jsx)(i.h2,{id:"template-inheritance",children:"Template Inheritance"}),"\n",(0,s.jsxs)(i.p,{children:["Parent recipe (",(0,s.jsx)(i.code,{children:"parent.yaml"}),"):"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:'version: "1.0.0"\ntitle: "Parent Recipe"\ndescription: "Base recipe template"\nprompt: |\n  {% block prompt %}\n  Default prompt text\n  {% endblock %}\n'})}),"\n",(0,s.jsx)(i.p,{children:"Child recipe:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",children:'{% extends "parent.yaml" %}\n{% block prompt %}\nModified prompt text\n{% endblock %}\n'})}),"\n",(0,s.jsx)(i.h2,{id:"recipe-location",children:"Recipe Location"}),"\n",(0,s.jsx)(i.p,{children:"Recipes can be loaded from:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Local filesystem:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Current directory"}),"\n",(0,s.jsxs)(i.li,{children:["Directories specified in ",(0,s.jsx)(i.code,{children:"GOOSE_RECIPE_PATH"})," environment variable"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["GitHub repositories:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Configure using ",(0,s.jsx)(i.code,{children:"GOOSE_RECIPE_GITHUB_REPO"})," configuration key"]}),"\n",(0,s.jsxs)(i.li,{children:["Requires GitHub CLI (",(0,s.jsx)(i.code,{children:"gh"}),") to be installed and authenticated"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"validation-rules",children:"Validation Rules"}),"\n",(0,s.jsx)(i.p,{children:"The following rules are enforced when loading recipes:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"All template variables must have corresponding parameter definitions"}),"\n",(0,s.jsx)(i.li,{children:"Optional parameters must have default values"}),"\n",(0,s.jsx)(i.li,{children:"Parameter keys must be unique"}),"\n",(0,s.jsx)(i.li,{children:"Recipe files must be valid YAML or JSON"}),"\n",(0,s.jsx)(i.li,{children:"Required fields (version, title, description) must be present"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(i.p,{children:"Common errors to watch for:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Missing required parameters"}),"\n",(0,s.jsx)(i.li,{children:"Optional parameters without default values"}),"\n",(0,s.jsx)(i.li,{children:"Template variables without parameter definitions"}),"\n",(0,s.jsx)(i.li,{children:"Invalid YAML/JSON syntax"}),"\n",(0,s.jsx)(i.li,{children:"Missing required fields"}),"\n",(0,s.jsx)(i.li,{children:"Invalid extension configurations"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"When these occur, Goose will provide helpful error messages indicating what needs to be fixed."})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>d,x:()=>l});var r=n(96540);const s={},t=r.createContext(s);function d(e){const i=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);